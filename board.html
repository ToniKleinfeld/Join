<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Join</title>
    <link rel="icon" href="./assets/icons/favicon.svg">
    <link rel="stylesheet" href="./style.css">
    <link rel="stylesheet" href="./css/menu.css">
    <link rel="stylesheet" href="./css/board.css">
    <link rel="stylesheet" href="./css/add-task.css">
    <script src="./js/board.js"></script>
    <script src="./script.js"></script>
    <script src="./js/add-task.js"></script>
    <script src="./js/template.js"></script>
    <!-- <script src="./firebasedate.json"></script> -->
</head>

<body onload="initBoard(), checkIfUserlogin()">
    <header>
        <h2 class="showindesktop">Kanban Project Managment Tool</h2>
        <img src="./assets/icons/capa 2.svg" alt="" class="showmobile">
        <div class="header-icon-container" >
            <a class="showindesktop" href="./help.html"><img src="./assets/icons/help.svg"></a>
            <div class="account-info" id="showuser" onclick="showUserMenue()"></div>
        </div>
        <div class="dropdownmenu d-none" id="usermenue">
            <a href="./legal.html">Legal Notice</a>
            <a href="./privacy.html">Privacy Policy</a>
            <a href="./index.html">Log out</a>
        </div>
    </header>
    <nav>
        <div class="logo showindesktop">
            <img src="./assets/icons/capa 1.svg">
        </div>
        <div class="nav-links-container" id="navlinks">
            <a href="./summary.html"><i class="summaryicon"></i> Summary</a>
            <a href="./add-task.html"><i class="taskicon"></i> Add Task</a>
            <a class="aktivesheet" href="./board.html"><i class="boardicon"></i> Board</a>
            <a href="./contacts.html"><i class="contactsicon"></i> Contacts</a>
        </div>

        <div class="legal-links showindesktop">
            <a href="./privacy.html">Privacy Policy</a>
            <a href="./legal.html">Legal Notice</a>
        </div>
    </nav>
    <div class="desktop">
        <div id="MainContent" class="maincontent">
            <div id="boardMain" class="board-main">
                <div class="board-headline">
                    <div class="resp-h1-plus-add-task-button">
                        <h1>Board</h1>
                        <img class="plus-add-task-button" src="./assets/icons/plus-add-task-button.svg" alt="">
                    </div>
                    <div class="board-headline-input-button-container">
                        <div class="input-search-container">
                            <input class="search" type="search" placeholder="Find Task">
                            <img src="./assets/icons/search.svg">
                        </div>
                        <button onclick="openAddTaskDialog()" class="add-task-button">Add Task +</button>
                    </div>
                </div>
                <div id="categoryMainContainer" class="category-main-container">
                    <!--------------to do------------------>
                    <div class="category-containers">
                        <div class="to-do-title mb-16">
                            <h2>To do</h2>
                            <img onclick="openAddTaskDialog()" class="plus-button" src="./assets/icons/plus-button.svg"
                                alt="">
                        </div>
                        <div id="tableToDo" class="tabelle-card" ondrop="moveTo('To do')" ondragover="allowDrop(event)">
                            <!--hier werden die karten gerendert-->
                        </div>
                    </div>
                    <!--------------in progress-------------->
                    <div class="category-containers">
                        <div class="in-progress-title mb-16">
                            <h2>In progress</h2>
                            <img onclick="openAddTaskDialog()" class="plus-button" src="./assets/icons/plus-button.svg"
                                alt="">
                        </div>
                        <div id="tableInProgress" class="tabelle-card" ondrop="moveTo('in progress')"
                            ondragover="allowDrop(event)">
                            <!--hier werden die karten gerendert-->
                        </div>
                    </div>
                    <!-------------await feedback------------>
                    <div class="category-containers">
                        <div class="await-feedback-title mb-16">
                            <h2>Await feedback</h2>
                            <img onclick="openAddTaskDialog()" class="plus-button" src="./assets/icons/plus-button.svg"
                                alt="">
                        </div>
                        <div id="tableAwaitFeedback" class="tabelle-card" ondrop="moveTo('Await feedback')"
                            ondragover="allowDrop(event)">
                            <!--hier werden die karten gerendert-->
                        </div>
                    </div>
                    <!-------------------done----------------->
                    <div class="category-containers">
                        <div class="done-title mb-16">
                            <h2>Done</h2>
                            <img src="" alt="">
                        </div>
                        <div id="tableDone" class="tabelle-card" ondrop="moveTo('Done')" ondragover="allowDrop(event)">
                            <div class="card-container"></div>
                            <div class="no-task-done-container">
                                <span class="no-task-done-text">no task Done</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- overlay -->
    <div id="overlay" class="overlay" style="display: none;" onclick="closeTaskOverlay()">
        <!---------inhalt von overlay-->
    </div>
    <!-- add task overlay -->
    <div id="addTaskOverlay" class="add-task-overlay" style="display: none;" onclick="closeAddTaskDialog()">
        <div class="add-task-bg" onclick="doNotClose(event)">
            <h1>Add Task</h1>

            <div class="taskform">

                <div class="taskform-half">

                    <div class="input-container">
                        <h2 class="required input-title">Title</h2>
                        <input type="text" placeholder="Enter a title" id="inputtitle" onkeyup="checkRequiredfields()" autocomplete="off">
                    </div>

                    <div class="text-area-container">
                        <h2 class="input-title">Description</h2>
                        <textarea placeholder="Enter a Description" id="textfieldinput"></textarea>
                    </div>

                    <div class="input-container dropdown-check-list-contacts" id="contact-select">
                        <h2 class="input-title">Assigned to</h2>
                        <span class="anchor" id="anchorButton" onclick="showContactslistToAssign()">Select contacts to assign</span>
                        <input type="text" class="anchorinput d-none" id="anchorinput" onkeyup="filterContacts()" autocomplete="off">
                        <icon class="arrowupanchorinput d-none" id="anchoricon" onclick="showContactslistToAssign()"></icon>
                        <ul class="items" id="assignlist">
                        </ul>
                    </div>
                    <div class="showassignedcontacts" id="showassignedcontacts"></div>
                </div>

                <div class="taskform-half">

                    <div class="input-container">
                        <h2 class="required input-title">Due date</h2>
                        <input type="date" class="input-date" id="inputdate" onchange="checkRequiredfields()">
                    </div>

                    <div class="input-container">
                        <h2 class="input-title">Prio</h2>
                        <div class="check-button-container">
                            <button class="button-empty-small-2 urgentprio" id="urgent" onclick="changePrio('urgent')">Urgent</button>
                            <button class="button-empty-small-2 mediumprio mediumprioaktive" id="medium" onclick="changePrio('medium')">Medium</button>
                            <button class="button-empty-small-2 lowprio" id="low" onclick="changePrio('low')">Low</button>
                        </div>
                    </div>

                    <div class="input-container">
                        <h2 class="required input-title">Category</h2>
                        <select name="category" id="categoryselect" onchange="checkRequiredfields()">
                            <option value="" selected hidden disabled>Select task category</option>
                            <option value="Technical Task">Technical Task</option>
                            <option value="User Story">User Story</option>
                        </select>
                    </div>

                    <div class="subtask input-container ">
                        <h2 class="input-title">Subtasks</h2>
                        <input class="input-subtask input-title" type="text" autocomplete="off" placeholder="Add new subtask" id="subtaskinputfield" onkeyup="changeIconsSubtask()" onkeypress="checkPressEnter(event,'create')">
                        <div class="iconssubtask center d-none" id="subtasksicons">
                        <i class="clearsubtask" onclick="resetsubtasksinput()"></i>
                        <i class="addsubtask" onclick="addsubtasktoList()"></i>
                        </div>
                    </div>
                    <ul id="showsubtasks" class="showsubtasks">
                    </ul>
                </div>
            </div>
            <div class="add-task-page-footer">
                <p class="required-info">This field is required</p>
                <div class="task-footer-button-container">
                    <button class="button-empty-small mobileoff" onclick="clearside()">Clear
                        <span class="input-and-button-icons closex"></span>
                    </button>
                    <button class="button-filled-large" id="createtask" disabled onclick="createNewTask()">
                        <span>Create Task</span>
                        <img class="input-and-button-icons"src="./assets/icons/check.svg">
                    </button>
                </div>
            </div>
        </div>
        <div class="createdtaskmessage d-none" id="createdtaskmessage">
            Task added to board <span></span>
        </div>
    </div>
</body>

</html>